{"componentChunkName":"component---src-components-templates-page-template-js","path":"/posts/node/1","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 890px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/16214217be6532411e294bae07a550ad/52edb/2020_01_16_09_46_32.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.50561797752809%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACLElEQVQozyVOS2gTUQBc8ORBEKRePIgRPUgrCIJCQS9+KCpYqh79gJT6xRaphxSUSlKrRaoeGqtttK1RSUywVLTRVmOt9VMaGxKNpvnsNnGT/Sa77+3u27e7cYPDDAMzhxkCY4yQblrVGm1VqxK9zOZSAEgKkHWMNRXBioY0bNVay8Z/N02DUDW7RdioqqquQAVq+lTQl/0aoVOJdJbkxIqmYQiRgXQFGaRsSshSoczzHM8zhK6A5LtxCKDA0CYEvvDb68PPnN67PYNuKl8UKhLNsIwgZcp6IGM+iklP/uCFIhQEHiqAsH/Ov37p8w7530xPf/mx23V80xXH2ua6Hc6mT58/sIJSoFlW1iYowx0m67siHf5kKGekOQBkkdCxYVqWoaIuz4O69kPrT2++3L+yc6L+1MPueCz7cz5KlSSygj2LcE/v7NGBhV2uj64Il5PtUbO2/Hsp0+v1bbh0eMWBVQevbT3fv/1kYNuF0K3xodHJG87o3ExegMGsfuJxouXetyOeqDehUBXdwpj4lSIHhp9uaWvdeLaxsWXdxb4G9/dje++f6xkZoYoiQAbPiTwrLonVEGUFU6o/Z8U5XObKAlsmYtHozFzU0dG282aTY9/qhtY1+0ebr46NLcbJyRf+zOx7jpUKJVTIM8tFJslruRInCSxJZRm2VLvN8+XuwPMzPlfnYHvf1O07r0L5v7ydczSdioQFKg0VRYZQBkDgGEHkZUXVkAoh/Acq0KYXxlCJbgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 09 46 32\"\n        title=\"2020 01 16 09 46 32\"\n        src=\"/static/16214217be6532411e294bae07a550ad/52edb/2020_01_16_09_46_32.png\"\n        srcset=\"/static/16214217be6532411e294bae07a550ad/8c2ab/2020_01_16_09_46_32.png 300w,\n/static/16214217be6532411e294bae07a550ad/3f01f/2020_01_16_09_46_32.png 600w,\n/static/16214217be6532411e294bae07a550ad/52edb/2020_01_16_09_46_32.png 890w\"\n        sizes=\"(max-width: 890px) 100vw, 890px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>웹팩 플러그인을 붙이다보면 많은 오류를 만나게된다. 심지어, 많은 플러그인들이 문서화가 제대로 안되있는 경우가 많아서 디버깅을 해야 하는일이 생긴다.<br>\n미리미리 웹팩을 디버깅하는 방법을 알아두면 큰 도움이 될것이다.</p>\n<h1>웹팩은 친절하지 않다.</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 884px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.733031674208142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAi0lEQVQY04WO0Q6DMAhF+//fOVOnDqG2CEplncke9tKdB0JIzr0EQtyZzey48S/XjXcJcYjDY2g8pwkR/wq/8hxXQhXNjW2zq7arqAAAEfWzwqIwrXOM47wsH0Fh9Cdp4rKftfbfCMZCL0gAJaWMeHDmc9O6exPNvN/sXFzVVVzEme/Z9sNz9lL68htoy2A/aq5NOwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 09 48 02\"\n        title=\"2020 01 16 09 48 02\"\n        src=\"/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png\"\n        srcset=\"/static/00950709e8a6fb791b6368b9360738d4/8c2ab/2020_01_16_09_48_02.png 300w,\n/static/00950709e8a6fb791b6368b9360738d4/3f01f/2020_01_16_09_48_02.png 600w,\n/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png 884w\"\n        sizes=\"(max-width: 884px) 100vw, 884px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n웹팩은 위와 같이 어디에서 에러가 발생한건지 정확한 위치를 알려주지 않는다.\n오류를 찾기 위해서 플러그인을 하나씩 제거하면서 찾아내야 하는데 이건 굉장히 비효율적이다.</p>\n<h1>에러가 왜 발생하는가?</h1>\n<p>디버깅 하는 방법을 살펴보기 전에 왜 에러가 발생하는지부터 살펴보자.</p>\n<p>아래와 같이 파일을 읽어서 그 파일안에 <code class=\"language-text\">Hello Wolrd!</code>라는 String이 있는지 없는지 판단하는 플러그인을 만들어보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloWorldCheckerPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"toinspect.txt\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>얼핏보면 위 플러그인은 사용하기 매우 간편해보이지만 내부적으로 <code class=\"language-text\">상대경로</code>가 아닌 <code class=\"language-text\">절대경로</code>를 사용한다는 말은 그 어디에도 나와있지 않다.<br>\n보통 플러그인을 개인용도로 개발한다음 깃헙에 공개하기 떄문에 모든 상세한 부분을 문서로 남기지 않는 경우가 많다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 884px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.733031674208142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAi0lEQVQY04WO0Q6DMAhF+//fOVOnDqG2CEplncke9tKdB0JIzr0EQtyZzey48S/XjXcJcYjDY2g8pwkR/wq/8hxXQhXNjW2zq7arqAAAEfWzwqIwrXOM47wsH0Fh9Cdp4rKftfbfCMZCL0gAJaWMeHDmc9O6exPNvN/sXFzVVVzEme/Z9sNz9lL68htoy2A/aq5NOwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 09 48 02\"\n        title=\"2020 01 16 09 48 02\"\n        src=\"/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png\"\n        srcset=\"/static/00950709e8a6fb791b6368b9360738d4/8c2ab/2020_01_16_09_48_02.png 300w,\n/static/00950709e8a6fb791b6368b9360738d4/3f01f/2020_01_16_09_48_02.png 600w,\n/static/00950709e8a6fb791b6368b9360738d4/d61d1/2020_01_16_09_48_02.png 884w\"\n        sizes=\"(max-width: 884px) 100vw, 884px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n그래서 플러그인 구현대로 <code class=\"language-text\">절대경로</code>를 넣지 않고 <code class=\"language-text\">상대경로</code>로 잘못입력을 하게 되는 경우 위 사진처럼 에러가 발생하는데 왜 에러가 발생하는지 어디서 발생하는지 찾기가 힘들다.</p>\n<p>물론 toinspect.txt라는 파일에서 에러가 발생했다는것 정도의 정보는 알려주기 떄문에 HelloWorldCheckerPlugin에서 오류가 발생했다는것을 추측할수는있다.</p>\n<p><strong>근데 다음과 같은 상황을 상상해보자.</strong></p>\n<ol>\n<li>어떤 에러에서는 설명이 더 부실할수있다.</li>\n<li>만약 10개이상의 플러그인이 <code class=\"language-text\">toinspect.txt</code>라는 파일을 사용한다고 해보자. 그중 어떤 플러그인에서 에러가 발생했는지 알 수 있는가?</li>\n<li>그리고 이 <code class=\"language-text\">toinspect.txt</code>라는 파일은 플러그인 내부에서 사용될뿐만아니라 번들링된 JS파일에서도 사용될 수 도 있다.</li>\n</ol>\n<p>과연 이런 상황에서, 저 부실한 에러메세지만으로 정확히 어디서 에러가 발생했는지 찾을 수 있겠는가? 운좋게 찾을수도있지만 대부분을 실패할것이다.\n어디서 디버깅을 시작해야할지 난감하다. 웹팩이 적어도 정확히 어느 파일에서 에러가 발생했는지 알려줬으면 좋겠다. 하지만 웹팩은 그렇지 않다.</p>\n<p>플러그인 제작자가 이런 에러에 대해서 명시해두지 않으면 매우 힘들다.</p>\n<h1>컴파일 에러</h1>\n<p>웹팩은 컴파일 과정에서 발생한 에러를 <code class=\"language-text\">Compilation.errors</code>라는 배열에 저장한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Compilation</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Tapable</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">compiler</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>errors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 컴파일 에러 저장</span></code></pre></div>\n<p>우리가 방금 만든 플러그인을 포함한 모든 플러그인들이 컴파일 에러를 만나면 이 배열에 에러를 저장한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">_make</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">compilation<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token operator\">...</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        compilation<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위 코드는 우리가 만든 <code class=\"language-text\">HelloWorldCheckerPlugin</code>의 내부 메소드 <code class=\"language-text\">_make</code>이다.<br>\n이 플러그인의 _make 함수에서 로그를 찍다가 에러가 발생하면 compilation.errors 배열에 에러를 push하게 된다.</p>\n<p>따라서 배열의 push 함수가 호출될때 브레이크 포인트를 걸고나서 콜스택을 조사하면 어디서 에러가 발생한건지 파악할 수 있다.</p>\n<h1>에러 배열에 push 함수 호출 인터셉트하기</h1>\n<p>노드를 디버깅하기 위해서 크롬을 사용하자. 나는 웹스톰에 내장된 노드 디버거보다 크롬 디버거를 더 선호한다. (빠르다)</p>\n<p><a href=\"https://medium.com/@paul_irish/debugging-node-js-nightlies-with-chrome-devtools-7c4a1b95ae27\">노드 크롬 디버거 설정하는 방법</a></p>\n<p>위 아티클을 읽고오면 노드 디버깅을 어떻게 하는지 알게 되었을것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node --inspect-brk node_modules/webpack/bin/webpack.js</code></pre></div>\n<p>위 명령어는 node로 webpack을 실행시키는데, 실행 첫 단계에 브레이크 포인트를 걸겠다는뜻이다.(<code class=\"language-text\">--inspect-brk</code>)<br>\n<code class=\"language-text\">--insepct</code> 옵션을 주게 되면 웹팩이 그냥 디버그 모드로 실행만 된다.(브레이크포인트는 내가 걸어줘야함.)</p>\n<p>위 명령어를 입력하여 웹팩 실행 첫단계에서 멈춘다음에 크롬 개발자 도구에서 브레이크 포인트를 걸어놓고 디버깅을 해보자.</p>\n<p>근데 매번 이렇게 긴 명령어를 입력하기 귀찮으니까 다음과 같이 별명을 주도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">dlwpc</span><span class=\"token operator\">=</span><span class=\"token string\">\"node --inspect-brk node_modules/webpack/bin/webpack.js\"</span></code></pre></div>\n<p>dlwpc = debug local webpack의 약자이다.</p>\n<p>자 이쯤에서 위에서 했던 얘기를 한번만 더 복습하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Compilation</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Tapable</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">compiler</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>errors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">node_modules/webpack/bin/Compilation.js</code> 파일에 보면 위와 같은 클래스가 들어있고 이 객체의 생성자에서 errors라는 배열이 만들어진다.</p>\n<p>웹팩은 빌드과정에서 컴파일에러가 발생하면 이 errors배열에 에러객체를 넣게된다. 즉 다음과 같은 함수를 웹팩이 호출시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">compilation<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// e는 에러 객체</span></code></pre></div>\n<p>그래서 이 <code class=\"language-text\">Compilation</code>객체에 정의된 <code class=\"language-text\">errors</code>배열에 <code class=\"language-text\">push</code>메서드를 재정의 해두면 내가 재정의한대로 push가 동작하게 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>errors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>를\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>errors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">debugger</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> 이렇게 바꾼다<span class=\"token punctuation\">.</span></code></pre></div>\n<p>그러면 웹팩이 컴파일 에러가 발생하여 this.errors.push할때 debugger가 실행되게 된다.<br>\n한마디로 errors 배열에 push메소드가 실행될때마다 디버깅할수있다.</p>\n<p>근데 이렇게 직접 파일을 찾아가서 수정해도되지만 나중에 다시 이 Compilation 객체를 찾아가서 오버라이딩된 this.errors를 되돌려줘야하니까 매우 귀찮다.<br>\n그래서 그렇게 하지말고 첫줄에서 브레이크포인트 잡은다음에 크롬 개발자 도구에서 Compliation을 찾아가도록 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">dlwpc</code></pre></div>\n<p>이걸 실행하면 웹팩 실행 첫줄에서 멈춘다. 그리고 크롬에 들어가서 chrome://inspect를 입력한다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 893px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d3bebfdb0e156adcf1d271844d199c8/b0803/2020_01_16_13_18_48.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.62597984322508%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAw0lEQVQY05WQS2/EIAyE8/9/4u61eyhKyBITHjbYHYgq9ZJKOwc/JL5h5KX33lozM1TM9omWSBQpqlk4KMY4HXR4ieSSU07/OC4ARMbPKZ14SkRgsIYQHs/n6/XVmtzCzHx508lbKP6ozsOBy7Z553j63sJlCjzF5PfDvwPFXKqY9+acraup3sK1VsC4llu/kRyziIwjmnXVDl/9VddxDx31Cru02dS629c9DDhBOafzFEbqVnkIjrNfG1Ye8N8Yap/pB4KY1tKG9er5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 18 48\"\n        title=\"2020 01 16 13 18 48\"\n        src=\"/static/6d3bebfdb0e156adcf1d271844d199c8/b0803/2020_01_16_13_18_48.png\"\n        srcset=\"/static/6d3bebfdb0e156adcf1d271844d199c8/8c2ab/2020_01_16_13_18_48.png 300w,\n/static/6d3bebfdb0e156adcf1d271844d199c8/3f01f/2020_01_16_13_18_48.png 600w,\n/static/6d3bebfdb0e156adcf1d271844d199c8/b0803/2020_01_16_13_18_48.png 893w\"\n        sizes=\"(max-width: 893px) 100vw, 893px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 945px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/87e61f5c3a89ac4c164c26362cd13d50/74b92/2020_01_16_13_18_59.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.74074074074074%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLklEQVQY022O60rDQBCF+/4PImL9I/gA4h/TtFgQbKME29hcmkuz2etsdraJY0Uo2sPhzC57PnYmrTT3y+xuWdwusutZejPPLjikzKeLYjovKK+C7CFqxnGcSANPr8njyzZYJbP152y9W7zn87eMTIfneE9exvsw2gWrTbjeBKuPMEri/ASPw3DE/uiRLh4RJB8Q0El0yjvtnfFoRm/aKmnLGEQ+9O2IbPTqBJ/Je6waljY8Sg7bPWface25QW58WjRpmnMhtQalwdr+L+zQsbYTQtUHRmacg3UAveud0bqsSiXlQJuedAHuWCeYkOJbYMxw9CSqWwtVXUmphl/9g/u+67jpmM4zqOu+aSyl1mgAlCrLkibVLsP0iaKqtSglSIkWaMefJ0QnuECH5/0vjkjAaa4w5kMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 18 59\"\n        title=\"2020 01 16 13 18 59\"\n        src=\"/static/87e61f5c3a89ac4c164c26362cd13d50/74b92/2020_01_16_13_18_59.png\"\n        srcset=\"/static/87e61f5c3a89ac4c164c26362cd13d50/8c2ab/2020_01_16_13_18_59.png 300w,\n/static/87e61f5c3a89ac4c164c26362cd13d50/3f01f/2020_01_16_13_18_59.png 600w,\n/static/87e61f5c3a89ac4c164c26362cd13d50/74b92/2020_01_16_13_18_59.png 945w\"\n        sizes=\"(max-width: 945px) 100vw, 945px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>위 사진을 보면 웹팩 실행 첫줄에서 멈춘것을 볼수있다. 이제 컨트롤+P를 눌러 Compilation.js 파일을 찾아가자.<br>\n찾아가려고하면 파일을 찾을수없을것이다. 왜냐면, 웹팩의 빌드가 아직 끝나지 않았기 떄문이다.</p>\n<p>여기서 두가지 방법이 있는데,<br>\n첫번쨰는, <code class=\"language-text\">Compilation</code> 클래스의 생성자에서 <code class=\"language-text\">this.errors</code>를 오버라이딩 하고 재실행하기.\n두번째는, 웹팩의 마지막에 디버그 포인트를 걸어놓고 실행하기이다.</p>\n<p>나는 두번째 방법을 사용하겠다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 939px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dc786d62186a2d57ce87cff434f97570/0de96/2020_01_16_13_23_30.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.81682641107561%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABP0lEQVQoz4VQ2UoDQRDcXxbFCIL/4buIMeAH+A0iifrgwcaXuNkjO7PTc5+xNyGaeDZFPUxXdVdP9kZk3sjpQiE/leK56vlvPJbipZI+puz0enI8WmO8f367d3ZzOJwMLu8QR6P7T6xeBtgaTg4uxidXD6B9JnnXNvW8qIC2olsY3nHaKCBegeFUQw8D1EvuJAQjo+1hJYsxZFIq4FxrHWL0IfgQZ8VcaRtiIoSWdV3VC0ooA04ZAyNtwLxLIZX3PlvuVkqpLEvvg7WWUsq6rmtbYMxqpZVUUuB8lGE3hLBljvHD7KwD0hFCgFLR4jlMUswPCO9cbzZmY06pZyGWRZG8bxrc7EKIDst7Y6zWKI3bAb9txgJIeZ5P54TCOqVSOq1Hb6763YzdEF5nnEu3uiDtOP/ZjNJe/bPhy78ivwPsKjFjNuOb8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 23 30\"\n        title=\"2020 01 16 13 23 30\"\n        src=\"/static/dc786d62186a2d57ce87cff434f97570/0de96/2020_01_16_13_23_30.png\"\n        srcset=\"/static/dc786d62186a2d57ce87cff434f97570/8c2ab/2020_01_16_13_23_30.png 300w,\n/static/dc786d62186a2d57ce87cff434f97570/3f01f/2020_01_16_13_23_30.png 600w,\n/static/dc786d62186a2d57ce87cff434f97570/0de96/2020_01_16_13_23_30.png 939w\"\n        sizes=\"(max-width: 939px) 100vw, 939px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>웹팩 마지막 부분에 디버그 포인트 걸어놓고 F8을 눌러 resume한다. 이떄는 모든 파일을 크롬 개발자도구에서 찾을수있다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1041px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af14fa6169a6ba165477a8cd25f3b03c/bea0f/2020_01_16_13_24_20.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.75984630163305%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVQoz22Q207DMAyG9/6vwwVDggsuQDDOWjcEYmgr0KXpmpNzaJqmIcsmjaH++uVEtj858Shs1b+s6os5Pp/h0ykaT8uzGR6nyziLmTIZ7UtZefK8zr55xEYJDtlyfTnNb16/rmaryVtxPc/vFuX9B7qd55P34umz2vlxgaMfFlVewQHuvQu+s9YYo3vn2AabsmjylcSIkY0gG57Makwq5BoV+u4A76S1lkq1bSuEkDwGDkqyJEoZTZEQAgC+74dgkMChrmvOE81oTQilNGbiGckqKXYOwEoprTRCKEJSgpDCWuucizwuS9vu5b0fnqyk4pQCZRqk1XrXFx8Sh4dj/YcZ47bZ7s0oaLR0Vrtma0JqTkVrTKzFyV33Z2Hp/wGUXf5IUJ2QHUADwghheIqCClJQxZgzenhynxSG5Dvf2tYfV38BG5431wGByxIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 24 20\"\n        title=\"2020 01 16 13 24 20\"\n        src=\"/static/af14fa6169a6ba165477a8cd25f3b03c/bea0f/2020_01_16_13_24_20.png\"\n        srcset=\"/static/af14fa6169a6ba165477a8cd25f3b03c/8c2ab/2020_01_16_13_24_20.png 300w,\n/static/af14fa6169a6ba165477a8cd25f3b03c/3f01f/2020_01_16_13_24_20.png 600w,\n/static/af14fa6169a6ba165477a8cd25f3b03c/bea0f/2020_01_16_13_24_20.png 1041w\"\n        sizes=\"(max-width: 1041px) 100vw, 1041px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>compilation.js파일 찾아가서 this.erros=[]가 정의된 바로 다음 부분에 디버그 포인트를 걸어서 멈추게 한다음에 콘솔에서 this.errors를 커스텀 객체로 변환시켜준다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 983px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/72aa2438ac567c2e89c403ee8e05d86d/ba4e2/2020_01_16_13_26_14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.743641912512714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABH0lEQVQoz21Qi27DIBDr/3/cpE2r1JfSda0oIcmRkBxwPEeXduu6WhaSjzMWXuQ7IGpyLvk09ZPspQJljQ0UHFJKv2shxPStF7OehYRWmylTlGdxPH4cD3teM9UOuh1Tij9m71wI4dG82Q8HbmUX3l7Fy7Je79Wo82gzujxiVjeO6GOMj+YTg1YiYaq2zfvqc71joh0G0DUH6xK5PFObZ8m9BNHw8+lUrTer1XK33dSCSyGg5kYjkZ2pNV6TiUgXhThNU9cBY+zMuRBCguxBDgWqUPV3UEpdzcVTFgCgAyhTjdoVEF2OGMn7UjhqbW3JvAxnXNt25BQMJblcGzROOa9UqqrEWGqahJhun/qPhfOhPDoX8Adl0vfZmLmSp+Yv5koHzoBgkO8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 26 14\"\n        title=\"2020 01 16 13 26 14\"\n        src=\"/static/72aa2438ac567c2e89c403ee8e05d86d/ba4e2/2020_01_16_13_26_14.png\"\n        srcset=\"/static/72aa2438ac567c2e89c403ee8e05d86d/8c2ab/2020_01_16_13_26_14.png 300w,\n/static/72aa2438ac567c2e89c403ee8e05d86d/3f01f/2020_01_16_13_26_14.png 600w,\n/static/72aa2438ac567c2e89c403ee8e05d86d/ba4e2/2020_01_16_13_26_14.png 983w\"\n        sizes=\"(max-width: 983px) 100vw, 983px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>그리고 나서 resume을 하게 되면 this.errors에 push를 할때마다 디버그 포인트가 잡히게 되고 콜스택에서 어떤 플러그인의 어떤 위치에서 에러가 발생했는지 정확히 디버깅할 수 있다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 893px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a90482125758be70b54f3d842236c6c4/b0803/2020_01_16_13_28_01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.1545352743561%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJ0lEQVQY003O/07CMBAHcJ7eCAZ8AF9CBUL8y2dQCQyCjMmvza37cde7rXRrLYsKl08uaXPfXjurb/ITXsW8iOgslBfRr2VEy+jqMpQu0hjT6T2/D8az/ujj5vGtO5wOJp5z/+L1J/PuyLsbe73R/PZp2h3Oeu2xP1m4/vC6UrrpMOQVsVEk00RmeSlB5nkaFpAVJYQa9zUdT/JoOLI6tU3Ryo0G4zZzWem6ds8k4iB5A+QXuBbCL2Sw2y6CYJnEO0xDoAxQACQOooiig1Knjm1L6wbxYK1v7ebfMdxnGVTqRNsdBV8EyKViLonKOE6UUpcwwN7aT2vXZ+bcAXNE2TSNcRNFroWQTEyECEKIS9gNVFVhbXatKimJ3Sfl3wINgNQWM9d1/QMh8n+VLPJ9AgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 28 01\"\n        title=\"2020 01 16 13 28 01\"\n        src=\"/static/a90482125758be70b54f3d842236c6c4/b0803/2020_01_16_13_28_01.png\"\n        srcset=\"/static/a90482125758be70b54f3d842236c6c4/8c2ab/2020_01_16_13_28_01.png 300w,\n/static/a90482125758be70b54f3d842236c6c4/3f01f/2020_01_16_13_28_01.png 600w,\n/static/a90482125758be70b54f3d842236c6c4/b0803/2020_01_16_13_28_01.png 893w\"\n        sizes=\"(max-width: 893px) 100vw, 893px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>_make함수에서 에러가 났다는것을 확인했고,</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 918px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/85813c3cfbe550375e2718971dfe2860/4c275/2020_01_16_13_28_21.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.87799564270153%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLklEQVQY002Qy07DMBBF8/+f0VKJFeInGpCQWCKCaIjdJs3TdpyM7XHsGLcIytXZzOgeaTTJwwu5f6a7tNjsi90TvbtAtumNyyal2z3Z7ONII5uUPr6W1vkk+yoz2makykh9OHV52efVUNSMNILUvKj5W07e88NHUXxSSs5n2tSRU9s575Ow+hCCUoBGwSSdxeCsX0zwy7qgs7qtKe9PBhgqbrWILEZI0Vu0SbhmmiaLRk8gRwmsha6aebvMYhqa46lU2jjnrV2MQQA1zzAwZu2vLKU06GA2bTvwTowDcKlAKjmIpm4iAHOsIRohRCxzzm+yECOXtuuBjbplCzsyODMAzyVW1bnrOqVUrBmtOWfR5+yfjIjeu/CX+AgNAY1fV4hXgvpZO+f0NYh2XddvvDmEddqjdY0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 16 13 28 21\"\n        title=\"2020 01 16 13 28 21\"\n        src=\"/static/85813c3cfbe550375e2718971dfe2860/4c275/2020_01_16_13_28_21.png\"\n        srcset=\"/static/85813c3cfbe550375e2718971dfe2860/8c2ab/2020_01_16_13_28_21.png 300w,\n/static/85813c3cfbe550375e2718971dfe2860/3f01f/2020_01_16_13_28_21.png 600w,\n/static/85813c3cfbe550375e2718971dfe2860/4c275/2020_01_16_13_28_21.png 918w\"\n        sizes=\"(max-width: 918px) 100vw, 918px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n콜스택을 따라 올라갔더니 정확히 뭐때매 에러가 났는지 확인할수있어졌다.</p>\n<h1>출처</h1>\n<p><a href=\"https://medium.com/angular-in-depth/this-will-make-you-more-efficient-at-debugging-wepback-unspecified-build-errors-6392850caed9\">https://medium.com/angular-in-depth/this-will-make-you-more-efficient-at-debugging-wepback-unspecified-build-errors-6392850caed9</a></p>","frontmatter":{"path":"/posts/node/1","title":"[Webpack] 웹팩 컴파일 에러 디버깅하기","date":"January 16, 2020"}}},"pageContext":{}}}