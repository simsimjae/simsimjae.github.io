{"componentChunkName":"component---src-components-templates-page-template-js","path":"/posts/react/4","result":{"data":{"markdownRemark":{"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 154px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/32258688165d42ebbf1b59b4bbffb13a/b7a03/2020_01_28_14_05_50.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.1038961038961%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABI0lEQVQoz2VRwaqCUBD1y/2Xto+QJFBSk1AiTUVcRJCEpmLgIhemlpa+Q1P28M3icu6Ze+aemWH6Vzwej+fzOeC2bYkhsuu6pmkulwvx/SeYAeFF/y+6T0RRdLvdRlmGajuOkyQJUev1WpKk1Wpl2zaRvu8LgiDLMs/zIMfin1cQxXFcXdewVxTFfD6HXtM08K7rKopCfZHNt1jXdc/zkAaeTCaqqkJQVVUYhizLlmUJ/ng8brdbgGE6b7EoitfrFZbO5/NisRhqbzab2Wy22+2AD4cDrgBpmsZx/BXjK5i83++maU6n0/1+HwQBatFrjADZ0+lEDS+XS8MwvtOmJgGyLLMsC4UhhguygCxGDUwDH/bCjBaDM89zbPUvM9oiLQ/gFxmy8f516dkHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 28 14 05 50\"\n        title=\"2020 01 28 14 05 50\"\n        src=\"/static/32258688165d42ebbf1b59b4bbffb13a/b7a03/2020_01_28_14_05_50.png\"\n        srcset=\"/static/32258688165d42ebbf1b59b4bbffb13a/b7a03/2020_01_28_14_05_50.png 154w\"\n        sizes=\"(max-width: 154px) 100vw, 154px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h1>발견된 현상</h1>\n<p>pages 디렉토리에 <code class=\"language-text\">index.js</code>와 <code class=\"language-text\">about.js</code>가 있었다. about.js에는 swiper 컴포넌트를 가져와서 사용하고 있었는데 스타일링을 위해서 about.js에서 swiper.scss를 import해서\n사용하고 있었다. 그런데 이 scss를 추가하자 갑자기 <strong>메인페이지에서 about페이지로 Link컴포넌트(next/link)로 라우팅이 안되는 이슈가 발견되었다.</strong></p>\n<h1>원인 분석</h1>\n<p>진짜 이거때문에 삽질을 몇시간 동안 했는지 모르겠다. 이번 이슈 해결을 통해서 검색 해도 잘 안나오는 에러를 찾는 스킬이 좀 는 것같다.\n우선 현재 작동하지 않는 버전을 커밋하고나서, 의심이 가는 파일, 문법 하나하나 지워가기 시작했다.\n그러다가 scss import한 부분을 제거하고 확인해보니 잘 작동하는걸로 봐서 이 부분이 문제라는걸 알게 되었다.\n어디가 원인인지를 알아냈으니 이제 다시 <code class=\"language-text\">git reset --hard HEAD</code> 명령어를 입력해서 커밋을 되돌렸다.</p>\n<h1>해결</h1>\n<p>검색해보니 next.js를 사용할때 scss파일을 바로 페이지에 import시키게 되면 HMR(Hot Module Replacement)과 관련된 이슈가 발생한다고 한다.\n나같은 경우엔 위처럼 라우팅이 정상적으로 동작하지 않았다. 그래서 scss파일은 <code class=\"language-text\">_app.js</code>에 import하라고 되있는 글을 발견했고 실제로 잘 해결 되었다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 355px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ddf9a29b9b4de80d12e800315eaeef9b/62029/2020_01_31_11_49_46.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.35211267605634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABTElEQVQoz32R2U7DMBRE+ytQBFm8xfvuLISkoSoUEC+I5f+/ApeCEA9FGlm+0ox87niFcNi5lyiWRcYb4RzfDPKeemPnRJUrgSgAP6VVDu/9q2czs6bb9bIPfmrdlHhysguImv/CEPt7/xr5XBJmNzHcJhatGQMWpoTiqmbZlM9fgYO+w9kBkamRKYgtkC2IuwKiwgoSA7CusSqgqNBhrLEGRFdQ1Ujl1NfLyI3yIdknPn+Y5c1t37nrje98v522z+PmQYdxmPfX8963sw4DpYnztsIyU6wKJChte3mnSDd2/nGJm+vgfQDEmDDFYRu6Rdm+EbE88h+wf3YGjYVUrSt8Adh5xc5LdlbQdUUvan75teRlRY/WI+qfwmqoVTNQkhQxrjGCaNsY3eh8R5ntdNXHr3KD3hs+Bu5vRHTMTzLNKi26lcwXUOa2TukTNHVvakSDIpQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2020 01 31 11 49 46\"\n        title=\"2020 01 31 11 49 46\"\n        src=\"/static/ddf9a29b9b4de80d12e800315eaeef9b/62029/2020_01_31_11_49_46.png\"\n        srcset=\"/static/ddf9a29b9b4de80d12e800315eaeef9b/8c2ab/2020_01_31_11_49_46.png 300w,\n/static/ddf9a29b9b4de80d12e800315eaeef9b/62029/2020_01_31_11_49_46.png 355w\"\n        sizes=\"(max-width: 355px) 100vw, 355px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"path":"/posts/react/4","title":"[Next.js] scss import시 Link 컴포넌트 작동 안함 이슈","date":"January 31, 2020"}}},"pageContext":{}}}